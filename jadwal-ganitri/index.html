<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Jadwal Ganitri</title>

<meta name="description" content="Jadwal MUI Parakansalak di Radio Ganitri selama Bulan Ramadhan">

<meta property="og:title" content="Jadwal Tausiah Radio Ganitri">
<meta property="og:description" content="Jadwal MUI Parakansalak di Radio ganitri selama Bulan Ramadhan">
<meta property="og:type" content="website">
<meta property="og:url" content="">
<meta property="og:image" content="https://quran.muiparakansalak.or.id/assets/img/mapag-bedug.jpg">

<meta name="twitter:card" content="summary">

<link rel="icon" href="/assets/img/favicon.ico">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="#105a2d">

<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap">
<link rel="stylesheet" href="/css/base.css">
<link rel="stylesheet" href="/css/nav.css">  
<link rel="stylesheet" href="/css/banner-surat.css">

<style>
  .container{max-width:950px;margin:0 auto;padding:15px;}
  .logoTop {display:flex;justify-content: center;}
  .logoTop img{max-width:320px}
  @media (max-width: 480px) {.logoTop img{max-width:260px}}
  .desc{max-width:600px;font-size:.9em;margin:auto;line-height:1.6}
  .desc {opacity:.8}
/* CARD SURAT */
.radio-card{
  background:var(--card);
  margin:15px auto;
  max-width:600px;
  padding:22px;
  border-radius:14px;
  box-shadow: 0 4px 12px rgba(16,185,129,0.05);
  border:1px solid var(--border-accent);
  transition: background-color 0.2s ease-in-out, transform 0.2s ease-in-out;
}
body.dark .radio-card{color:#e2e8f0;}
p.radio-card{opacity:.85;font-size:.9em;line-height:1.6}
.radio-card h2{
  margin-bottom:16px;
  margin-top:0;
  color:#065f46;
  text-align:center;
}
 .dark .radio-card h2{color:#69a594} 
.radio-card p{font-size:.9em;line-height:1.4;max-width:600px;margin:auto}
.row{
  display:flex;
  justify-content:left;
  padding:8px 0;
  border-bottom:1px solid #f1f1f1;
}
.dark .row{border-bottom-color:#264438}
.row:last-child{
  border-bottom:none;
}
#pemateri{font-weight:600}
.label{
  font-weight:600;
  color:#047857;
  min-width:110px;
}
.dark .label{color:#69a594}
.status{
  margin-top:15px;
  font-weight:700;
  text-align:center;
  font-size:16px;
  color:#29a145;
}
  .dark .status {color:#50d66f}
  .status svg{width:30px;height:30px}
  .svg-icon{color:#1fc860}
  .status{
  margin-top:15px;
  font-weight:700;
  display:flex;
  justify-content:center;
  align-items:center;
  gap:8px;
}
  /* ===== SPOILER ===== */
.spoiler {
  border: 1px solid #e1e4e8;
  border-radius: 10px;
  overflow: hidden;
  margin: 16px 0 0;
}
.dark .spoiler{border-color:#132f24}
.spoiler input {
  display: none;
}
body.dark .spoiler label{background:#23493a;}
.spoiler label {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 16px;
  background: #f6f8fa;
  cursor: pointer;
  font-weight: 600;
  transition: background .2s ease;
  font-size:.9em}
}

.spoiler label:hover {
  background: #eef1f4;
}
.dark .spoiler label:hover {
  background: #417962;
}
.spoiler label::after {
  content: "＋";
  font-size: 18px;
  transition: transform .3s ease;
}

.spoiler input:checked + label::after {
  content: "−";
}

.spoiler-content {
  max-height: 0;
  overflow: hidden;
  padding: 0 16px;
  transition: max-height .4s ease, padding .3s ease;
}
.spoiler-content img{max-width:100%}
.spoiler input:checked ~ .spoiler-content {
  max-height: 1000px;
  padding: 16px;
}

/* ===== CONTENT ===== */
.spoiler-content p {
  margin: 0 0 10px;
  line-height: 1.6;
}

.spoiler-content code {
  background: #f3f4f6;
  padding: 4px 6px;
  border-radius: 6px;
  font-family: monospace;
  font-size: 14px;
}
  /* =========================
   MINI PLAYER BAR
========================= */
.radio-bar{
  width:100%;
  max-width:500px;
  background:#fff;
  padding:10px 15px;
  border-radius:50px;
  display:flex;
  align-items:center;
  gap:15px;
  box-shadow:0 5px 20px rgba(0,0,0,.08);
}

/* PLAY BUTTON */
#playBtn{
  width:42px;
  height:42px;
  border:none;
  border-radius:50%;
  background:linear-gradient(135deg,#2e7d32,#57a05b);
  color:#fff;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  transition:.2s;
}
#playBtn:active{transform:scale(.9);}
#playBtn svg{width:20px;height:20px;fill:currentColor}

/* INFO */
.info{
  flex:1;
  display:flex;
  flex-direction:column;
}

.title{
  font-size:.9em;
  font-weight:600;
}

.live{
  font-size:.8;
  color:#e53935;
  letter-spacing:.5px;
}
.live::before{
  content:"● ";
  animation:blink 1.2s infinite;
}

@keyframes blink{
  0%{opacity:1}
  50%{opacity:.3}
  100%{opacity:1}
}

#volume{
  width:80px;
  height:4px;
  -webkit-appearance:none;
  appearance:none;
  background:#ddd;
  border-radius:4px;
  outline:none;
}

/* TRACK */
#volume::-webkit-slider-runnable-track{
  height:4px;
  background:#ddd;
  border-radius:4px;
}

/* THUMB */
#volume::-webkit-slider-thumb{
  -webkit-appearance:none;
  width:14px;
  height:14px;
  border-radius:50%;
  background:#2e7d32;
  cursor:pointer;
  margin-top:-5px;
}

/* FIREFOX */
#volume::-moz-range-track{
  height:4px;
  background:#ddd;
  border-radius:4px;
}

#volume::-moz-range-thumb{
  width:14px;
  height:14px;
  border:none;
  border-radius:50%;
  background:#2e7d32;
}
</style>
 
</head>

<body>

<header>
<div id="nav-container"></div>
</header>

<div class="outer-wrapper">
<div class="container">

   <div class="logoTop">
    <img alt="logo" src="/assets/img/logo-ganitri.png">
  </div>
<div class="radio-card">

  <h2>Mapag Bedug Ramadhan Radio Muara Ganitri 105.3 FM</h2>

  <div class="row">
    <span class="label">Hari / Tgl</span>
    <span id="hariTgl"></span>
  </div>

  <div class="row">
    <span class="label">Hijriyah</span>
    <span id="hijriyah"></span>
  </div>

  <div class="row">
    <span class="label">Pemateri</span>
    <span id="pemateri"></span>
  </div>

  <div class="row">
    <span class="label">Lembaga</span>
    <span id="jabatan"></span>
  </div>

  <div class="row">
    <span class="label">Materi</span>
    <span id="materi"></span>
  </div>

  <div class="row">
    <span class="label">Kanca Siar</span>
    <span id="kancaSiar"></span>
  </div>

  <div class="status" id="statusText"></div>

<div class="radio-bar">
  <button id="playBtn">
    <svg viewBox="0 0 24 24">
      <path d="M8 5v14l11-7z"/>
    </svg>
  </button>

  <div class="info">
    <div class="title">Radio Muara Ganitri</div>
    <div class="live">LIVE</div>
  </div>

  <input type="range" id="volume" min="0" max="1" step="0.01" value="1">
</div>
  
  <div class="spoiler">
    <input type="checkbox" id="spoiler-1">
    <label for="spoiler-1">Jadwal Pemateri lengkap Klik Disini</label>
    <div class="spoiler-content">
      <img alt="pemateri" src="/assets/img/pemateri-ganitri.jpg">
    </div>
  </div>
  
</div>

<p class="radio-card">Jadwal Pemateri ini <strong>update tiap hari</strong>. Program ini terselenggara atas kerja sama <strong>Radio Muara Ganitri 105.3 FM</strong>, <strong>MUI kecamatan Parakansalak</strong> dan <strong>DMI Kecamatan Parakansalak</strong>.</p>  
</div>



</div>
</div>
<footer class="site-footer">
 
  <!-- BOTTOM -->
  <div class="footer-bottom">
    <span class="footer-copy">
      © 2026 · <a href="/">Al-Qur’an Digital</a> by <a href="https://quran.kangis.my.id">Smart Media</a>
    </span>

    <nav class="footer-nav">
      <a href="https://quran.muiparakansalak.or.id">Home</a>
      <a href="/about.html">About Us</a>
      <a href="/filantropi.html">Donasi</a>
    </nav>
  </div>
</footer>

<button class="top" onclick="scrollToTop()">
  <svg viewBox="0 0 24 24"><path d="M6 15l6-6 6 6"></path></svg>
</button>
  
<script>
/* =========================
   TIMEZONE WIB FIX
========================= */

function nowWIB(){
  return new Date(
    new Date().toLocaleString("en-US", { timeZone:"Asia/Jakarta" })
  );
}

function todayKeyWIB(){
  const now = nowWIB();

  const year  = now.getFullYear();
  const month = String(now.getMonth() + 1).padStart(2,'0');
  const day   = String(now.getDate()).padStart(2,'0');

  return `${year}-${month}-${day}`;
}

/* =========================
   FORMAT COUNTDOWN
========================= */

function formatCountdown(h, m, s){
  const parts = [];

  if(h > 0) parts.push(`${h} jam`);
  if(m > 0) parts.push(`${m} menit`);
  parts.push(`${s} detik`);

  return parts.join(" ");
}

/* =========================
   SET STATUS (SVG)
========================= */

function setStatus(type, timeText = ""){
  const statusEl = document.getElementById("statusText");

  if(type === "done"){
    statusEl.style.color = "#16a34a";
    statusEl.innerHTML = `
      <svg width="18" height="18" viewBox="0 0 24 24"
        fill="none" stroke="currentColor" stroke-width="2"
        stroke-linecap="round" stroke-linejoin="round">
        <polyline points="20 6 9 17 4 12"></polyline>
      </svg>
      <span>Selesai</span>
    `;
  }

  else if(type === "live"){
    statusEl.style.color = "#dc2626";
    statusEl.innerHTML = `
      <svg width="18" height="18" viewBox="0 0 24 24"
        fill="currentColor">
        <circle cx="12" cy="12" r="8"/>
      </svg>
      <span>Sedang Berlangsung</span>
    `;
  }

  else if(type === "countdown"){
    statusEl.style.color = "#f59e0b";
    statusEl.innerHTML = `
      <svg width="18" height="18" viewBox="0 0 24 24"
        fill="none" stroke="currentColor" stroke-width="2"
        stroke-linecap="round" stroke-linejoin="round">
        <circle cx="12" cy="12" r="10"></circle>
        <polyline points="12 6 12 12 16 14"></polyline>
      </svg>
      <span>Mulai dalam ${timeText}</span>
    `;
  }
}

/* =========================
   INIT
========================= */

async function init(){

  try {

    const res = await fetch('/api/ganitri.json');

    if(!res.ok) throw new Error("JSON tidak ditemukan");

    const jadwal = await res.json();

    const todayKey = todayKeyWIB();
    const data = jadwal[todayKey];

    const statusEl = document.getElementById("statusText");

    if(!data){
      statusEl.textContent = "Tidak ada siaran hari ini";
      return;
    }

    const now = nowWIB();

    document.getElementById("hariTgl").textContent =
      now.toLocaleDateString("id-ID", {
        weekday:'long',
        year:'numeric',
        month:'long',
        day:'numeric',
        timeZone:"Asia/Jakarta"
      });

    document.getElementById("hijriyah").textContent = data.hijriyah;
    document.getElementById("pemateri").textContent = data.pemateri;
    document.getElementById("jabatan").textContent = data.jabatan;
    document.getElementById("materi").textContent = data.materi;
    document.getElementById("kancaSiar").textContent = data.kancaSiar;

    const start = new Date(todayKey + "T17:00:00+07:00");
    const end   = new Date(todayKey + "T18:10:00+07:00");

    function updateStatus(){

      const now = nowWIB();

      if(now < start){

        const diff = start - now;

        const h = Math.floor(diff / 3600000);
        const m = Math.floor((diff % 3600000) / 60000);
        const s = Math.floor((diff % 60000) / 1000);

        setStatus("countdown", formatCountdown(h,m,s));
      }
      else if(now >= start && now <= end){
        setStatus("live");
      }
      else{
        setStatus("done");
      }
    }

    updateStatus();
    setInterval(updateStatus,1000);

  } catch(err){
    console.error(err);
    document.getElementById("statusText").textContent =
      "Gagal memuat jadwal";
  }
}

/* =========================
   START
========================= */

init();

</script>

 <script>
const audio = new Audio("https://i.klikhost.com/8016/stream");
audio.crossOrigin = "anonymous";

const playBtn = document.getElementById("playBtn");
const volume  = document.getElementById("volume");

const svgPlay = `
<svg viewBox="0 0 24 24">
  <path d="M8 5v14l11-7z"/>
</svg>`;

const svgPause = `
<svg viewBox="0 0 24 24">
  <rect x="6" y="5" width="4" height="14"/>
  <rect x="14" y="5" width="4" height="14"/>
</svg>`;

/* PLAY */
playBtn.onclick = ()=>{
  if(audio.paused){
    audio.play();
  }else{
    audio.pause();
  }
};

audio.onplay = ()=> playBtn.innerHTML = svgPause;
audio.onpause = ()=> playBtn.innerHTML = svgPlay;

/* VOLUME */
volume.oninput = ()=> audio.volume = volume.value;
</script> 
  
<script src="/js/fetch.js"></script>
<script src="/js/toast.js"></script>

<script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('/service-worker.js');
  }
</script>

</body>
</html>
